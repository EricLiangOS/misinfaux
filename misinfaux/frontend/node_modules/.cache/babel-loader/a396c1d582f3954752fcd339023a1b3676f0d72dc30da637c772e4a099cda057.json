{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FactChecker=_ref=>{let{setResults,setIsLoading}=_ref;const[inputType,setInputType]=useState('url');const[inputValue,setInputValue]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setError('');if(!inputValue.trim()){setError('Please enter a URL or text to analyze');return;}console.log(`Submitting ${inputType} for analysis`);setIsLoading(true);try{const endpoint=inputType==='url'?'/api/analyze/url':'/api/analyze/text';const payload=inputType==='url'?{url:inputValue}:{text:inputValue};console.log(`Making request to ${endpoint} with payload:`,payload);// Configure headers explicitly\nconst config={headers:{'Content-Type':'application/json','Accept':'application/json'}};// Use absolute URL with explicit port\nconst baseUrl='http://localhost:5000';const response=await axios.post(`${baseUrl}${endpoint}`,payload,config);console.log(\"Response received:\",response.data);setResults(response.data);}catch(err){console.error('Error during analysis:',err);if(err.response){console.error('Server response:',err.response.data);console.error('Status code:',err.response.status);setError(`Failed to analyze content: ${err.response.data.error||'Unknown error'}`);}else if(err.request){console.error('No response received from server');setError('Failed to connect to the server. Is the backend running?');}else{console.error('Error message:',err.message);setError('Failed to analyze content. Please try again.');}setResults(null);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"fact-checker\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reliability Detector\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:inputType==='url'?'active':'',onClick:()=>setInputType('url'),children:\"Analyze URL\"}),/*#__PURE__*/_jsx(\"button\",{className:inputType==='text'?'active':'',onClick:()=>setInputType('text'),children:\"Analyze Text\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[inputType==='url'?/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"Enter article URL\",value:inputValue,onChange:e=>setInputValue(e.target.value)}):/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Paste article text here\",value:inputValue,onChange:e=>setInputValue(e.target.value),rows:8}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"analyze-btn\",children:\"Analyze for Reliability\"})]})]});};export default FactChecker;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FactChecker","_ref","setResults","setIsLoading","inputType","setInputType","inputValue","setInputValue","error","setError","handleSubmit","e","preventDefault","trim","console","log","endpoint","payload","url","text","config","headers","baseUrl","response","post","data","err","status","request","message","className","children","onClick","onSubmit","type","placeholder","value","onChange","target","rows"],"sources":["/Users/ehliang/Desktop/Projects/misinfaux/misinfaux/frontend/src/components/FactChecker.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst FactChecker = ({ setResults, setIsLoading }) => {\n    const [inputType, setInputType] = useState('url');\n    const [inputValue, setInputValue] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        \n        if (!inputValue.trim()) {\n            setError('Please enter a URL or text to analyze');\n            return;\n        }\n    \n        console.log(`Submitting ${inputType} for analysis`);\n        setIsLoading(true);\n        \n        try {\n            const endpoint = inputType === 'url' ? '/api/analyze/url' : '/api/analyze/text';\n            const payload = inputType === 'url' ? { url: inputValue } : { text: inputValue };\n            \n            console.log(`Making request to ${endpoint} with payload:`, payload);\n            \n            // Configure headers explicitly\n            const config = {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                }\n            };\n            \n            // Use absolute URL with explicit port\n            const baseUrl = 'http://localhost:5000';\n            const response = await axios.post(`${baseUrl}${endpoint}`, payload, config);\n            \n            console.log(\"Response received:\", response.data);\n            setResults(response.data);\n        } catch (err) {\n            console.error('Error during analysis:', err);\n            if (err.response) {\n                console.error('Server response:', err.response.data);\n                console.error('Status code:', err.response.status);\n                setError(`Failed to analyze content: ${err.response.data.error || 'Unknown error'}`);\n            } else if (err.request) {\n                console.error('No response received from server');\n                setError('Failed to connect to the server. Is the backend running?');\n            } else {\n                console.error('Error message:', err.message);\n                setError('Failed to analyze content. Please try again.');\n            }\n            setResults(null);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fact-checker\">\n            <h2>Reliability Detector</h2>\n            <div className=\"input-options\">\n                <button \n                    className={inputType === 'url' ? 'active' : ''}\n                    onClick={() => setInputType('url')}\n                >\n                    Analyze URL\n                </button>\n                <button \n                    className={inputType === 'text' ? 'active' : ''}\n                    onClick={() => setInputType('text')}\n                >\n                    Analyze Text\n                </button>\n            </div>\n            \n            <form onSubmit={handleSubmit}>\n                {inputType === 'url' ? (\n                    <input\n                        type=\"url\"\n                        placeholder=\"Enter article URL\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                    />\n                ) : (\n                    <textarea\n                        placeholder=\"Paste article text here\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                        rows={8}\n                    />\n                )}\n                \n                {error && <p className=\"error\">{error}</p>}\n                \n                <button type=\"submit\" className=\"analyze-btn\">\n                    Analyze for Reliability\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default FactChecker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}