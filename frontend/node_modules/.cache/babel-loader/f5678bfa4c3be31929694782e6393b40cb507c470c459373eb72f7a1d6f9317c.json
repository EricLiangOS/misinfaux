{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FactChecker=_ref=>{let{setResults,setIsLoading}=_ref;const[inputType,setInputType]=useState('url');const[inputValue,setInputValue]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(!inputValue.trim()){setError('Please enter text or URL to analyze');return;}setIsLoading(true);setError(null);try{let payload;if(inputType==='url'){payload={url:inputValue};}else{payload={text:inputValue};}// Use relative URL for API requests (works in both dev and production)\nconst response=await axios.post('/api/analyze',payload);console.log(\"Response received:\",response.data);setResults(response.data);}catch(err){console.error('Error during analysis:',err);if(err.response){console.error('Server response:',err.response.data);console.error('Status code:',err.response.status);setError(`Failed to analyze content: ${err.response.data.error||'Unknown error'}`);}else if(err.request){console.error('No response received from server');setError('Failed to connect to the server. Please try again later.');}else{console.error('Error message:',err.message);setError('Failed to analyze content. Please try again.');}setResults(null);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"fact-checker\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reliability Detector\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:inputType==='url'?'active':'',onClick:()=>setInputType('url'),children:\"Analyze URL\"}),/*#__PURE__*/_jsx(\"button\",{className:inputType==='text'?'active':'',onClick:()=>setInputType('text'),children:\"Analyze Text\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[inputType==='url'?/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"Enter article URL\",value:inputValue,onChange:e=>setInputValue(e.target.value)}):/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Paste article text here\",value:inputValue,onChange:e=>setInputValue(e.target.value),rows:8}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"analyze-btn\",children:\"Analyze for Reliability\"})]})]});};export default FactChecker;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FactChecker","_ref","setResults","setIsLoading","inputType","setInputType","inputValue","setInputValue","error","setError","handleSubmit","e","preventDefault","trim","payload","url","text","response","post","console","log","data","err","status","request","message","className","children","onClick","onSubmit","type","placeholder","value","onChange","target","rows"],"sources":["/Users/ehliang/Desktop/Projects/misinfaux/misinfaux/frontend/src/components/FactChecker.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst FactChecker = ({ setResults, setIsLoading }) => {\n    const [inputType, setInputType] = useState('url');\n    const [inputValue, setInputValue] = useState('');\n    const [error, setError] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        if (!inputValue.trim()) {\n            setError('Please enter text or URL to analyze');\n            return;\n        }\n        \n        setIsLoading(true);\n        setError(null);\n        \n        try {\n            let payload;\n            \n            if (inputType === 'url') {\n                payload = { url: inputValue };\n            } else {\n                payload = { text: inputValue };\n            }\n            \n            // Use relative URL for API requests (works in both dev and production)\n            const response = await axios.post('/api/analyze', payload);\n            \n            console.log(\"Response received:\", response.data);\n            setResults(response.data);\n        } catch (err) {\n            console.error('Error during analysis:', err);\n            if (err.response) {\n                console.error('Server response:', err.response.data);\n                console.error('Status code:', err.response.status);\n                setError(`Failed to analyze content: ${err.response.data.error || 'Unknown error'}`);\n            } else if (err.request) {\n                console.error('No response received from server');\n                setError('Failed to connect to the server. Please try again later.');\n            } else {\n                console.error('Error message:', err.message);\n                setError('Failed to analyze content. Please try again.');\n            }\n            setResults(null);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"fact-checker\">\n            <h2>Reliability Detector</h2>\n            <div className=\"input-options\">\n                <button \n                    className={inputType === 'url' ? 'active' : ''}\n                    onClick={() => setInputType('url')}\n                >\n                    Analyze URL\n                </button>\n                <button \n                    className={inputType === 'text' ? 'active' : ''}\n                    onClick={() => setInputType('text')}\n                >\n                    Analyze Text\n                </button>\n            </div>\n            \n            <form onSubmit={handleSubmit}>\n                {inputType === 'url' ? (\n                    <input\n                        type=\"url\"\n                        placeholder=\"Enter article URL\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                    />\n                ) : (\n                    <textarea\n                        placeholder=\"Paste article text here\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                        rows={8}\n                    />\n                )}\n                \n                {error && <p className=\"error\">{error}</p>}\n                \n                <button type=\"submit\" className=\"analyze-btn\">\n                    Analyze for Reliability\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default FactChecker;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}